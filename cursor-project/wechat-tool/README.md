# å¾®ä¿¡å·¥å…·æœºå™¨äºº

ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„å¾®ä¿¡å¯¹è¯æœºå™¨äººï¼Œæ”¯æŒæ–‡ä»¶è½¬æ¢ã€å®šæ—¶ä»»åŠ¡ã€æ–°é—»æ¨é€ç­‰å¤šç§åŠŸèƒ½ã€‚

## ğŸ¯ ä¸»è¦åŠŸèƒ½

### ğŸ“ æ–‡ä»¶è½¬æ¢
- **Wordè½¬PDF**: æ”¯æŒ.doc/.docxæ–‡ä»¶è½¬æ¢ä¸ºPDF
- **å›¾ç‰‡è½¬PDF**: æ”¯æŒjpg/png/bmpç­‰å›¾ç‰‡æ ¼å¼è½¬æ¢ä¸ºPDF
- **PDFè½¬Word**: æ”¯æŒPDFæ–‡ä»¶è½¬æ¢ä¸ºWordæ–‡æ¡£
- **è‡ªåŠ¨å¤„ç†**: ç›´æ¥å‘é€æ–‡ä»¶å³å¯è‡ªåŠ¨è½¬æ¢

### â° å®šæ—¶ä»»åŠ¡
- **æ¯æ—¥æé†’**: è®¾ç½®æ¯æ—¥å›ºå®šæ—¶é—´æé†’
- **æ¯å‘¨æé†’**: è®¾ç½®æ¯å‘¨æŒ‡å®šå¤©æé†’
- **ä¸€æ¬¡æ€§æé†’**: è®¾ç½®ç‰¹å®šæ—¥æœŸæ—¶é—´æé†’
- **è‡ªå®šä¹‰æ¶ˆæ¯**: æ”¯æŒè‡ªå®šä¹‰æé†’å†…å®¹

### ğŸ“° æ–°é—»æ¨é€
- **é‡‘èæ–°é—»**: æ¯æ—¥æ¨é€çƒ­é—¨é‡‘èæ–°é—»
- **å¤šæºèšåˆ**: ä»å¤šä¸ªæ–°é—»æºè·å–å†…å®¹
- **æ™ºèƒ½ç­›é€‰**: æ ¹æ®å…³é”®è¯ç­›é€‰ç›¸å…³æ–°é—»
- **è®¢é˜…ç®¡ç†**: æ”¯æŒè®¢é˜…å’Œå–æ¶ˆè®¢é˜…

### ğŸ”§ ç³»ç»ŸåŠŸèƒ½
- **æ’ä»¶åŒ–æ¶æ„**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•
- **é…ç½®ç®¡ç†**: æ”¯æŒçµæ´»é…ç½®
- **æ—¥å¿—è®°å½•**: å®Œæ•´çš„æ“ä½œæ—¥å¿—
- **å¸®åŠ©ç³»ç»Ÿ**: è¯¦ç»†çš„å¸®åŠ©æ–‡æ¡£

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- å¾®ä¿¡è´¦å·

### å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### å¯åŠ¨æœºå™¨äºº
```bash
python main.py
```

### é…ç½®é€‰é¡¹
```bash
# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶
python main.py --config my_config.yaml

# å¯ç”¨è°ƒè¯•æ¨¡å¼
python main.py --debug

# è®¾ç½®æ—¥å¿—çº§åˆ«
python main.py --log-level DEBUG
```

## ğŸ“‹ ä½¿ç”¨æŒ‡å—

### æ–‡ä»¶è½¬æ¢
1. ç›´æ¥å‘é€Wordæ–‡æ¡£ â†’ è‡ªåŠ¨è½¬æ¢ä¸ºPDF
2. ç›´æ¥å‘é€å›¾ç‰‡æ–‡ä»¶ â†’ è‡ªåŠ¨è½¬æ¢ä¸ºPDF
3. ç›´æ¥å‘é€PDFæ–‡ä»¶ â†’ è‡ªåŠ¨è½¬æ¢ä¸ºWord

### å®šæ—¶ä»»åŠ¡
```
# æ·»åŠ æ¯æ—¥æé†’
/scheduler add daily 09:00 æ—©å®‰æé†’

# æ·»åŠ æ¯å‘¨æé†’
/scheduler add weekly 1 18:00 å‘¨ä¼šæé†’

# æ·»åŠ ä¸€æ¬¡æ€§æé†’
/scheduler add once 2024-01-01 10:00 æ–°å¹´å¿«ä¹

# æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡
/scheduler list

# åˆ é™¤ä»»åŠ¡
/scheduler delete ä»»åŠ¡ID
```

### æ–°é—»æ¨é€
```
# è®¢é˜…æ–°é—»æ¨é€
/news_pusher subscribe

# å–æ¶ˆè®¢é˜…
/news_pusher unsubscribe

# è·å–æœ€æ–°æ–°é—»
/news_pusher news

# æŸ¥çœ‹çŠ¶æ€
/news_pusher status
```

### ç³»ç»Ÿå‘½ä»¤
```
# æŸ¥çœ‹å¸®åŠ©
help

# æŸ¥çœ‹çŠ¶æ€
status

# æŸ¥çœ‹æ’ä»¶
plugins

# é‡æ–°åŠ è½½æ’ä»¶
reload
```

## âš™ï¸ é…ç½®è¯´æ˜

### é…ç½®æ–‡ä»¶ç»“æ„
```yaml
# å¾®ä¿¡é…ç½®
wechat:
  login_timeout: 300
  enable_cmd_qr: true
  hot_reload: true

# æ–‡ä»¶å¤„ç†é…ç½®
file_processing:
  upload_dir: "uploads"
  output_dir: "outputs"
  max_file_size: 50
  supported_formats:
    word: [".doc", ".docx"]
    pdf: [".pdf"]
    image: [".jpg", ".jpeg", ".png", ".bmp", ".gif", ".tiff"]

# å®šæ—¶ä»»åŠ¡é…ç½®
scheduler:
  timezone: "Asia/Shanghai"
  max_jobs: 100

# æ–°é—»æ¨é€é…ç½®
news:
  sources:
    - "https://www.jrj.com.cn/"
    - "https://finance.sina.com.cn/"
    - "https://www.10jqka.com.cn/"
  keywords:
    - "é‡‘è"
    - "è‚¡å¸‚"
    - "åŸºé‡‘"
    - "ç†è´¢"
    - "æŠ•èµ„"
  max_news_count: 5

# æ—¥å¿—é…ç½®
logging:
  level: "INFO"
  format: "{time:YYYY-MM-DD HH:mm:ss} | {level} | {name}:{function}:{line} - {message}"
  file: "logs/wechat_bot.log"

# æ•°æ®åº“é…ç½®
database:
  path: "data/wechat_bot.db"

# æ’ä»¶é…ç½®
plugins:
  enabled:
    - "file_converter"
    - "scheduler"
    - "news_pusher"
    - "help"
  auto_reload: true
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
wechat-tool/
â”œâ”€â”€ main.py                 # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ requirements.txt        # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ README.md              # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.yaml        # é…ç½®æ–‡ä»¶
â”œâ”€â”€ core/                  # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ bot.py            # æœºå™¨äººä¸»ç±»
â”‚   â”œâ”€â”€ base_plugin.py    # æ’ä»¶åŸºç±»
â”‚   â”œâ”€â”€ config_manager.py # é…ç½®ç®¡ç†å™¨
â”‚   â”œâ”€â”€ message_handler.py # æ¶ˆæ¯å¤„ç†å™¨
â”‚   â””â”€â”€ plugin_manager.py # æ’ä»¶ç®¡ç†å™¨
â”œâ”€â”€ plugins/               # æ’ä»¶ç›®å½•
â”‚   â”œâ”€â”€ file_converter.py # æ–‡ä»¶è½¬æ¢æ’ä»¶
â”‚   â”œâ”€â”€ scheduler.py      # å®šæ—¶ä»»åŠ¡æ’ä»¶
â”‚   â”œâ”€â”€ news_pusher.py   # æ–°é—»æ¨é€æ’ä»¶
â”‚   â””â”€â”€ help.py          # å¸®åŠ©æ’ä»¶
â”œâ”€â”€ uploads/              # ä¸Šä¼ æ–‡ä»¶ç›®å½•
â”œâ”€â”€ outputs/              # è¾“å‡ºæ–‡ä»¶ç›®å½•
â”œâ”€â”€ logs/                 # æ—¥å¿—ç›®å½•
â””â”€â”€ data/                 # æ•°æ®ç›®å½•
```

## ğŸ”§ å¼€å‘æŒ‡å—

### æ’ä»¶å¼€å‘
1. ç»§æ‰¿ `BasePlugin` ç±»
2. å®ç° `start()` å’Œ `stop()` æ–¹æ³•
3. å®ç° `execute_command()` æ–¹æ³•å¤„ç†å‘½ä»¤
4. åœ¨é…ç½®æ–‡ä»¶ä¸­å¯ç”¨æ’ä»¶

### ç¤ºä¾‹æ’ä»¶
```python
from core.base_plugin import BasePlugin

class MyPlugin(BasePlugin):
    def __init__(self, config_manager):
        super().__init__(config_manager)
        self.name = "MyPlugin"
        self.description = "æˆ‘çš„æ’ä»¶"
    
    def start(self):
        self.is_running = True
    
    def stop(self):
        self.is_running = False
    
    def execute_command(self, command, **kwargs):
        return f"æ‰§è¡Œå‘½ä»¤: {command}"
```

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨ `plugins/` ç›®å½•ä¸‹åˆ›å»ºæ–°æ’ä»¶
2. åœ¨é…ç½®æ–‡ä»¶ä¸­å¯ç”¨æ’ä»¶
3. é‡å¯æœºå™¨äººå³å¯ä½¿ç”¨

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: ç™»å½•å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
A: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œç¡®ä¿å¾®ä¿¡è´¦å·æ­£å¸¸ï¼Œå¯ä»¥å°è¯•é‡æ–°å¯åŠ¨ç¨‹åºã€‚

**Q: æ–‡ä»¶è½¬æ¢å¤±è´¥ï¼Ÿ**
A: æ£€æŸ¥æ–‡ä»¶æ ¼å¼æ˜¯å¦æ”¯æŒï¼Œæ–‡ä»¶å¤§å°æ˜¯å¦è¶…é™ï¼Œç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´ã€‚

**Q: å®šæ—¶ä»»åŠ¡ä¸æ‰§è¡Œï¼Ÿ**
A: æ£€æŸ¥æ—¶é—´æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿æœºå™¨äººæ­£åœ¨è¿è¡Œã€‚

**Q: æ–°é—»æ¨é€æ”¶ä¸åˆ°ï¼Ÿ**
A: ç¡®è®¤å·²è®¢é˜…æ–°é—»æ¨é€ï¼Œæ£€æŸ¥ç½‘ç»œè¿æ¥ã€‚

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹è¿è¡Œæ—¥å¿—
tail -f logs/wechat_bot.log

# æŸ¥çœ‹è°ƒè¯•æ—¥å¿—
tail -f logs/debug.log
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦è§ LICENSE æ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- æäº¤ Issue
- å‘é€é‚®ä»¶
- å¾®ä¿¡ç¾¤è®¨è®º

---

**æ³¨æ„**: ä½¿ç”¨æœ¬æœºå™¨äººæ—¶è¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„å’Œå¾®ä¿¡ä½¿ç”¨æ¡æ¬¾ã€‚ 